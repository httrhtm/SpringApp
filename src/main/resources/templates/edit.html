<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link th:href="@{/css/edit.css}" rel="stylesheet" type="text/css">
	<script type="text/javascript" th:src="@{/js/edit.js}"></script>
	<title>edit</title>
</head>
<body>
	<!-- nav -->
	<div class="nav">
		<form method="post" th:action="@{/top}" style="display: inline">
			<input type="submit" value="top" />
		</form>
		<form method="post" th:action="@{/logout}" style="display: inline">
			<input type="submit" value="logout" />
		</form>
	</div>

	<!-- error message -->
	<div th:if="${error_msg != null}">
		<span th:text="${error_msg}"></span>
	</div>

	<!-- form -->
	<form th:method="post" th:action="@{/editConfirm}">
		<!-- 問題番号（※編集不可） -->
		<div class="questionNum">
			問題番号： <input readonly type="text" name="id" th:value="${question.getId()}" />
		</div>

		<!-- 問題 -->
		<div>
			問題： <input type="text" name="question" th:value="${question.getQuestion()}" />
		</div>

		<!-- 答え -->
		<div th:each="answer:${answerList}">
			<!-- answers.questions_idとquestions.idが一致した場合 -->
			<div th:if="${answer.getQuestionsId() == question.getId()}">
				<div class="answer">
					<label>答え：</label>
					<div id="form_area" class="answer">

						<input id="answer_0" class="answerForm" type="text" name="answer" th:value="${answer.getAnswer()}" />

						<!-- 削除 -->
						<input id="0" class="removeBtn" type="hidden" onclick="deleteBtn(this);" />
					</div>
					<!-- correct_answers.idを一緒に渡す -->
					<input type="hidden" name="answer_id" th:value="${answer.getId()}" />
					<!-- correct_answers.questions_idを一緒に渡す -->
					<input type="hidden" name="questions_id" th:value="${answer.getQuestionsId()}" />
				</div>
			</div>
		</div>

		<!-- 追加 -->
		<input type="button" value="追加" onclick="addForm();" />

		<!-- 確認 -->
		<input type="submit" value="確認" />
	</form>

	<!-- 戻る -->
	<form method="get" th:action="@{/list}" >
		<input type="submit" value="戻る" />
	</form>

</body>
</html>